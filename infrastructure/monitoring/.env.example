# PM Document Intelligence - Monitoring Stack Configuration
# Copy this file to .env and update with your values

# ==========================================
# Grafana Configuration
# ==========================================
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin  # CHANGE IN PRODUCTION!
GF_USERS_ALLOW_SIGN_UP=false
GF_SERVER_ROOT_URL=http://localhost:3000
GF_INSTALL_PLUGINS=grafana-piechart-panel

# ==========================================
# Prometheus Configuration
# ==========================================
PROMETHEUS_RETENTION_DAYS=30
PROMETHEUS_STORAGE_TSDB_PATH=/prometheus

# ==========================================
# Alertmanager Configuration
# ==========================================
# Slack webhook URL for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email SMTP configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=alertmanager@example.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=alertmanager@example.com

# PagerDuty integration
PAGERDUTY_SERVICE_KEY=your-pagerduty-service-key

# Alert email recipients
ALERT_EMAIL_OPS=ops-team@example.com
ALERT_EMAIL_DBA=dba-team@example.com
ALERT_EMAIL_FINANCE=finance-team@example.com

# ==========================================
# Loki Configuration
# ==========================================
LOKI_RETENTION_DAYS=31
LOKI_STORAGE_PATH=/loki

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=  # Optional, leave empty for no password

# ==========================================
# LocalStack Configuration
# ==========================================
LOCALSTACK_SERVICES=s3,textract,comprehend,bedrock-runtime,sqs,sns
AWS_DEFAULT_REGION=us-east-1
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# ==========================================
# Application Configuration
# ==========================================
# Backend application URL for metrics scraping
BACKEND_URL=http://host.docker.internal:8000

# Environment
ENVIRONMENT=development  # development, staging, production

# ==========================================
# Jaeger Configuration
# ==========================================
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT=http://jaeger:14268/api/traces

# ==========================================
# Optional: External Storage (Production)
# ==========================================
# For Prometheus remote write (e.g., Thanos, Cortex)
# PROMETHEUS_REMOTE_WRITE_URL=
# PROMETHEUS_REMOTE_WRITE_USERNAME=
# PROMETHEUS_REMOTE_WRITE_PASSWORD=

# For Loki object storage (e.g., S3)
# LOKI_S3_BUCKET=
# LOKI_S3_REGION=
# LOKI_AWS_ACCESS_KEY_ID=
# LOKI_AWS_SECRET_ACCESS_KEY=

# ==========================================
# Security (Production)
# ==========================================
# Enable authentication for Prometheus/Alertmanager
# ENABLE_BASIC_AUTH=true
# BASIC_AUTH_USERNAME=admin
# BASIC_AUTH_PASSWORD=secure-password

# TLS/SSL Configuration
# ENABLE_TLS=true
# TLS_CERT_PATH=/certs/cert.pem
# TLS_KEY_PATH=/certs/key.pem
